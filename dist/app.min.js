var testApp=angular.module("testApp",["ngMaterial","ui.router","ngCookies"]).config(["$stateProvider","$urlRouterProvider",function(t,o){o.otherwise("/"),t.state("login",{url:"/",templateUrl:"index.html",authenticate:!1,views:{inner:{templateUrl:"app/views/login.html",controller:"loginCtrl"}}}).state("dashboard",{url:"/dashboard",templateUrl:"index.html",authenticate:!0,views:{inner:{templateUrl:"app/views/dashboard.html",controller:"dashboardCtrl"}}})}]).run(["$rootScope","$state","$cookies",function(t,o,n){t.$on("$stateChangeStart",function(t,e,r,a,i){e.authenticate&&!n.get("admin")&&(o.transitionTo("dashboard",null,{notify:!1}),t.preventDefault(),o.go("login")),!e.authenticate&&n.get("admin")&&(o.transitionTo("login",null,{notify:!1}),t.preventDefault(),o.go("dashboard"))})}]).controller("addProductCtrl",["$scope","$mdDialog","allProducts",function(t,o,n){t.closeDialog=function(){o.hide()},t.addProduct=function(){n.unshift(t.product),o.hide()}}]).controller("dashboardCtrl",["$scope","$rootScope","$mdDialog","getProductsSvc",function(t,o,n,e){o.showLogoutBtn=!0,e.async().then(function(o){t.products=o}),t.productInfo=function(o){alert=n.alert({title:"Product information",textContent:t.products[o].description,clickOutsideToClose:!0,ok:"Close"}),n.show(alert).finally(function(){alert=void 0})},t.addNewProduct=function(){n.show({controller:"addProductCtrl",templateUrl:"app/views/dialogs/add-product.html",clickOutsideToClose:!0,locals:{allProducts:t.products}})}}]).controller("loginCtrl",["$scope","$state","$cookies",function(t,o,n){t.submit=function(){"admin"==t.login&&"admin"==t.password&&(n.put("admin","true"),o.go("dashboard"))}}]).controller("mainCtrl",["$scope","$rootScope","$cookies","$state",function(t,o,n,e){o.showLogoutBtn=n.get("admin"),t.logout=function(){n.remove("admin"),o.showLogoutBtn=!1,e.go("login")}}]).factory("getProductsSvc",["$http",function(t){var o={async:function(){var o=t.get("../data/products.json").then(function(t){return t.data.products});return o}};return o}]);